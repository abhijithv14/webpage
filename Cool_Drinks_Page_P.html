<!DOCTYPE html>
<html>
   <head>
      <title>COOL DRINKS</title>
      <link rel="stylesheet" href="Stylesheet_P_Cool_Drinks.css"/>
   </head>
   <body>
      <header>
         <div class="navbar">
            <div class="navbar-links">
               <a href="Home_Page_P.html" target="_self">Home</a>
               <a href="Your_Cart.html" target="_self">Your Cart</a>
               <a href="logout.php" target="_self">Log Out</a>
            </div>
         </div>
      </header>
      <div class="header">
         <div class="card ">
            <div class="title">
               <h1>COOL DRINKS</h1>
            </div>
         </div>
      </div>
      
      
      <div class="row">
         <div class="container">
            <div class="items"><img src="Coa Cola.jpg" alt="Coca Cola"></div>
            <div class="item_detail">
               <div class="item_name">Coca Cola</div>
               <div class="money">Rs40</div>
               <div></div>
            </div>
            <div class="counter-container" data-id="33">
               <button class="counter-button" onclick="decreaseCount(33)">-</button>
               <div class="counter-display" id="counter-33">0</div>
               <button class="counter-button" onclick="increaseCount(33)">+</button>
            </div>
            <div class="cart">
               <button onclick="addToCart(33)">Add to Cart</button>
            </div>
         </div>
         
         <div class="container">
            <div class="items"><img src="Pepsi.jpg" alt="Pepsi"></div>
            <div class="item_detail">
               <div class="item_name">Pepsi</div>
               <div class="money">Rs40</div>
               <div></div>
            </div>
            <div class="counter-container" data-id="34">
               <button class="counter-button" onclick="decreaseCount(34)">-</button>
               <div class="counter-display" id="counter-34">0</div>
               <button class="counter-button" onclick="increaseCount(34)">+</button>
            </div>
            <div class="cart">
               <button onclick="addToCart(34)">Add to Cart</button>
            </div>
         </div>
         
         <div class="container">
            <div class="items"><img src="Sprite.jpg" alt="Sprite"></div>
            <div class="item_detail">
               <div class="item_name">Sprite</div>
               <div class="money">Rs45</div>
               <div></div>
            </div>
            <div class="counter-container" data-id="35">
               <button class="counter-button" onclick="decreaseCount(35)">-</button>
               <div class="counter-display" id="counter-35">0</div>
               <button class="counter-button" onclick="increaseCount(35)">+</button>
            </div>
            <div class="cart">
               <button onclick="addToCart(35)">Add to Cart</button>
            </div>
         </div>
         
         <div class="container">
            <div class="items"><img src="Fanta.jpg" alt="Fanta"></div>
            <div class="item_detail">
               <div class="item_name">Fanta</div>
               <div class="money">Rs35</div>
               <div></div>
            </div>
            <div class="counter-container" data-id="36">
               <button class="counter-button" onclick="decreaseCount(36)">-</button>
               <div class="counter-display" id="counter-36">0</div>
               <button class="counter-button" onclick="increaseCount(36)">+</button>
            </div>
            <div class="cart">
               <button onclick="addToCart(36)">Add to Cart</button>
            </div>
         </div>
      </div>
      

      <div class="row">
         <div class="container">
            <div class="items"><img src="Mountain Dew.jpg" alt="Mountain Dew"></div>
            <div class="item_detail">
               <div class="item_name">Mountain Dew</div>
               <div class="money">Rs40</div>
               <div></div>
            </div>
            <div class="counter-container" data-id="37">
               <button class="counter-button" onclick="decreaseCount(37)">-</button>
               <div class="counter-display" id="counter-37">0</div>
               <button class="counter-button" onclick="increaseCount(37)">+</button>
            </div>
            <div class="cart">
               <button onclick="addToCart(37)">Add to Cart</button>
            </div>
         </div>
         
         <div class="container">
            <div class="items"><img src="Thums_up.jpg" alt="Thums Up"></div>
            <div class="item_detail">
               <div class="item_name">Thums Up</div>
               <div class="money">Rs40</div>
               <div></div>
            </div>
            <div class="counter-container" data-id="38">
               <button class="counter-button" onclick="decreaseCount(38)">-</button>
               <div class="counter-display" id="counter-38">0</div>
               <button class="counter-button" onclick="increaseCount(38)">+</button>
            </div>
            <div class="cart">
               <button onclick="addToCart(38)">Add to Cart</button>
            </div>
         </div>
      </div>
      <script>
         let counters = {};
         function updateDisplay(id) {
            document.getElementById('counter-' + id).innerText = counters[id];
         }
         function increaseCount(id) {
            if (!counters[id]) counters[id] = 0;
            counters[id]++;
            updateDisplay(id);
         }
         function decreaseCount(id) {
            if (!counters[id]) counters[id] = 0;
            if (counters[id] > 0) counters[id]--;
            updateDisplay(id);
         }
         function addToCart(id) {
        let quantity = counters[id] || 0;
        if (quantity > 0) {
            let xhr = new XMLHttpRequest();
            xhr.open("POST", "add_to_cart.php", true);
            xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
            xhr.onreadystatechange = function () {
                if (xhr.readyState == 4 && xhr.status == 200) {
                    alert(xhr.responseText);
                }
            };
            xhr.send("id=" + id + "&quantity=" + quantity);
        } else {
            alert("Please select a quantity greater than 0");
        }
    }
      </script>
   </body>
</html>